<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="description" content="Your Ultimate Job HTML Template" />
    <meta
      name="keywords"
      content="Hosting, Domain, Transfer, Buy Domain, WHMCS"
    />
    <link rel="canonical" href="https://html.themewant.com/hostie" />
    <meta name="robots" content="index, follow" />
    <!-- for open graph social media -->
    <meta property="og:title" content="Your Ultimate Job HTML Template" />
    <meta property="og:description" content="Your Ultimate Job HTML Template" />
    <meta property="og:image" content="https://www.example.com/image.jpg" />
    <meta property="og:url" content="https://html.themewant.com/hostie/" />
    <!-- for twitter sharing -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Your Ultimate Job HTML Template" />
    <meta
      name="twitter:description"
      content="Your Ultimate Job HTML Template"
    />
    <meta
      name="twitter:image"
      content="https://html.themewant.com/hostie/landing/assets/images/banner/slider-img-01.webp"
    />

    <!-- fabicon -->
    <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon" />
    <link
      rel="shortcut-icon"
      href="assets/img/favicon-16x16.png"
      type="image/x-icon"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="assets/img/favicon.ico"
      type="image/x-icon"
    />
    <title>Jobpath - Job Seeker &amp; Job Holder HTML Template</title>
    <!-- rt icons -->
    <link rel="stylesheet" href="assets/fonts/icon/css/rt-icons.css" />
    <!-- fontawesome -->
    <link
      rel="stylesheet"
      href="assets/fonts/fontawesome/fontawesome.min.css"
    />
    <!-- all plugin css -->
    <link rel="stylesheet" href="assets/css/plugins.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <title>Payment Test</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/moyasar-payment-form@2.0.16/dist/moyasar.css"
    />
    <script src="https://unpkg.com/moyasar-payment-form@2.0.16/dist/moyasar.umd.js"></script>
    <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon" />
    <style>
      .payment-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 90vh;
      }
      .payment-card {
        background: #fff;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        width: 100%;
        max-width: 500px;
      }
      .payment-card h2 {
        font-weight: 700;
        font-size: 22px;
        margin-bottom: 20px;
        text-align: center;
        color: #1e293b;
      }
      .mysr-form {
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <div
      class="rts__section rts__header absolute__header"
      data-include="layout/header.html"
    ></div>
    <div class="rts__section breadcrumb__background">
      <div class="container">
        <div class="row">
          <div
            class="col-lg-12 position-relative d-flex justify-content-between align-items-center"
          >
            <div class="breadcrumb__area max-content breadcrumb__padding z-2">
              <h1
                data-en="Payment"
                data-ar="الدفع"
                class="breadcrumb-title h3 mb-3"
              >
                Payment
              </h1>
              <nav>
                <ul class="breadcrumb m-0 lh-1">
                  <li
                    data-en="Home"
                    data-ar="الصفحة الرئيسية"
                    class="breadcrumb-item"
                  >
                    <a href="index.html">Home</a>
                  </li>
                  <li
                    data-en="Payment"
                    data-ar="الدفع"
                    class="breadcrumb-item active"
                    aria-current="page"
                  >
                    Payment
                  </li>
                </ul>
              </nav>
            </div>
            <div
              class="breadcrumb__area__shape d-flex gap-4 justify-content-end align-items-center"
            >
              <div class="shape__one common">
                <img src="assets/img/breadcrumb/shape-1.svg" alt="" />
              </div>
              <div class="shape__two common">
                <img src="assets/img/breadcrumb/shape-2.svg" alt="" />
              </div>
              <div class="shape__three common">
                <img src="assets/img/breadcrumb/shape-3.svg" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      style="height: 100vh; margin-top: 100px"
      class="container mt-60 mb-60 h-screen"
    >
      <div class="payment-container">
        <div class="payment-card">
          <h2 data-ar="ادخل بيانات البطاقة للدفع" data-en="Enter Card Details">
            Enter Card Details
          </h2>
          <div class="mysr-form"></div>
        </div>
      </div>
    </div>
    <div data-include="layout/login.html"></div>

    <div data-include="layout/footer.html"></div>

    <script>
      const userId = localStorage.getItem("userId") || null;
      const urlParams = new URLSearchParams(window.location.search);
      const planId = urlParams.get("planId");
      const amount = urlParams.get("amount");
      const finalAmount = amount * 100;

      // ✅ اللغة من localStorage
      const lang = localStorage.getItem("lang") || "en";

      // ✅ الوصف حسب اللغة
      const description =
        lang === "ar" ? "طلب اشتراك جديد" : "New Subscription Order";

      Moyasar.init({
        element: ".mysr-form",
        // Amount in the smallest currency unit.
        amount: finalAmount, // مثال: 200 SAR → 20000 Halalas
        currency: "SAR",
        description: description, // ✅ مترجم حسب اللغة
        publishable_api_key: "pk_test_UePDryuCKsGTU6ckJ693j5wN5ovtw9EJWkjurNz4",
        callback_url: "http://localhost:5500/thanks.html",
        methods: ["creditcard"],
        manual: false,
        credit_card: {
          save_card: true,
        },
        metadata: {
          userId: userId,
          planId: planId,
          lang: lang, // ✅ خزنا كمان اللغة في الميتاداتا
        },
        locale: lang === "ar" ? "ar" : "en",
      });
      // alert(lang);
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          if (lang === "ar") {
            document.querySelectorAll(".mysr-form label").forEach((label) => {
              if (label.textContent.includes("Card Number"))
                label.textContent = "رقم البطاقة";
              if (label.textContent.includes("Expiry Date"))
                label.textContent = "تاريخ الانتهاء";
              if (label.textContent.includes("CVV"))
                label.textContent = "رمز التحقق (CVV)";
            });

            // زر الدفع
            const btn = document.querySelector(".mysr-form button");
            if (btn) btn.textContent = "ادفع الآن";
          }
        }, 500); // ✅ نستنى شوية لحد ما الفورم يترندر
      });
    </script>

    <script src="assets/js/plugins.min.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
